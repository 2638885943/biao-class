<script>
    var max_id = 101;
    var todo_list = [
        {
            id: 100,
            name: '买菜',
            completed: false,
        },
        {
            id: 101,
            name: '洗菜',
            completed: false,
        }
    ]


// <!-- 增 -->
function add(row){
   id = ++max_id
   todo_list.push(row)
}


// <!-- 删 -->
function remove(id){

var index = find_by_id_index(todo_list,id)

todo_list.splice(index,1);

}

// <!-- 改 -->
function update(id,new_row){
var index = find_by_id_index(todo_list,id)
var old_row = 

todo_list[index]=Object.assign({},old_row,new_row);
}


// <!-- 查 -->
function read(id){

if(id)
return find_by_id(todo_list,id)
return todo_list
}

// <!-- 通过id找元素 -->
function find_by_id(arr,id){
   return arr.find(function (row){
return row.id === id
    });
}

// <!-- 通过id找索引 -->

function find_by_id_index(arr,id){
    return arr.findIndex(function (row){
    return row.id == id
    });
}
add({name:'吃饭'})
console.log(todo_list)
remove(101)
console.log(todo_list)

update(100,{
    completed: false,
})
console.log(todo_list)

console.log(read())
</script>